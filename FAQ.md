**빈번한 질문은 이곳에**  

***
Q1. 보드 뒷면에 1PPS와 10M는 언제 연결하나요?  
>기본 사용법은 그랜드마스터에서 나오는 **1pps와 10MHz**를 연결합니다.  
>계측기는 1pps의 'rising edge'를 기준으로 패킷을 재생하고 캡처를 합니다.  
>동기가 안되면, 서로 다른 시작 지점에서 동작하게 되어,예측되지 않는 문제를 발생 시킬수 있습니다.  
>예를 들어, 스펙트럼이 잘나오다가 깨진다거나, 캡처되는 지점이 일정해야 하는데 랜덤하다거나....    
  
***  
Q2. 계측기 단독으로 사용하는 경우에 클럭 세팅을 어떻게 하나요?     
>재생하는 경우, 명령어서 클럭 소스를 내부 **'0'**   
>- ./emul_pcap_play 1 tx_pat.bin 20 0 **0** 0   
>이 경우에는 보드 뒤에 pps_out과 10M_out이 출력됩니다.  
>- ./emul_pcap_play 1 tx_pat.bin 20 0 **1** 0   
>외부 pps없이 이렇게 하시면, 기준 시점이 없어서 동작하지 않습니다.  
  
***  
Q3. 단독 캡처는 어떻게 하나요?  
>클럭소스를 내부로 변경하고, 패킷을 들어오는것을 확인한 다음에 캡처하시면 됩니다.  
>다만, 어느 시점에 캡처가 되는지 알 수 없습니다.  
>예제> 내부에서 만들 pps기준으로 300ms동안 캡처  
>1. diag_pps_sel 0   
>2. diag_pkinfo  
>3. /emul_capture 30 0  
>>1행: 한번만 하시면 됩니다. pps소스를 변경하는 명령입니다.  
>>pcap이 플레이중이면 이 명령에 영향을 받cd/ emulator 습니다.  

***  
Q3. 링크가 붙었는지는 어떻게 확인하나요?  
>1차적으로 외부 LED가 활동하면 링크가 붙은 상태입니다.  
>diag_rst명령을 치고, diag명령을 사용하시면 L1, R4 R5 R6에 더 자세히 볼 수 있습니다.  
![diag명령그림](https://github.com/ymhan-erik/emul/blob/main/doc/pic/diag.jpg)  

***  
Q4. 링크정보에 fpga-phy-linkup, phy-ext-linkup 차이가 뭔가요?  
> POE는 경우 'FPGA <-> PHY <-> 외부케이블' 이처럼 구성이 되어 있습니다.    
> 전자는 fpga-phy사이가 붙었다는 것이고요, 후자는 케이블... 즉 외부 장치와 링크됐다는 뜻입니다.    
> 정상인 경우, fpga-phy는 항상 링크업 상태이고, phy-ext는 외부 장치와 링크업이 됐는지 보여줍니다.    
> 광포트 L1에 경우, 두 값은 같습니다.    

***  
Q5. pcap_play를 실행하고 'diag_pkinfo'쳤을 때 tx측에 'Vanidmatch' 카운트 증가의 의미?  
> pcap_player에서 나가는 프레임의 수 입니다.  
  
***  
Q6. rx측에 'Vanidmatch'와 'Byte' 카운트 증가의 의미?  
> byte 카운트는 RX 포트로 들어오는 모든 패킷의 바이트 카운트.  
> Vanidmatch 카운트는 들어온 패킷중에 vlanid가 일치는 패킷의수.
> Vanidmatch의 증가는 캡처할수 있는 데이타가 있음을 의미합니다.

***  
Q7. 패킷카운트는 어떻게 보나요?
>- cd /emulator  
>- ./diag_pkinfo   
